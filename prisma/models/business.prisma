// Model connected to Auth0
model BusinessCustomer {
    id         Int                          @id @default(autoincrement())
    createdAt  DateTime                     @default(now())
    updatedAt  DateTime                     @updatedAt
    email      String                       @unique
    mobile     String?                      @unique
    firstName  String
    lastName   String
    businesses BusinessCustomerOnBusiness[]
}

model Business {
    id                Int                          @id @default(autoincrement())
    createdAt         DateTime                     @default(now())
    updatedAt         DateTime                     @updatedAt
    contactNumber     String
    businessName      String
    type              BusinessType[]
    BusinessCustomers BusinessCustomerOnBusiness[]
    services          Service[]
}

model BusinessCustomerOnBusiness {
    business   Business @relation(fields: [businessId], references: [id])
    businessId Int

    user   BusinessCustomer @relation(fields: [userId], references: [id])
    userId Int

    role BusinessRole

    @@id([businessId, userId])
}

enum BusinessRole {
    OWNER
    ADMIN
    MANAGER
    STAFF
}

enum BusinessType {
    SME
    ENTERPRISE
}
